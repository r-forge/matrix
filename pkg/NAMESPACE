useDynLib(Matrix)

importFrom("graphics",image)
importFrom("graphics",plot)             ## lmer-related
importFrom("lattice", levelplot)
importFrom("grid",    grid.rect, gpar, grob)
import("stats")                         ## lmer-related

## Currently, group generics need to be explicitly imported (Bug?):
importFrom("methods", Arith, Compare, Math, Math2, Summary, Complex)

## Generics and functions defined in this package
export(
       "Hilbert",
       "Matrix",
       "Schur",
       "bCrosstab",
       "expand",
       "expm",
       "facmul",
       "lu",
       "mcmcsamp", ## lmer-related
       "norm",
       "rcond",
       "round", # "Math2" group (needs explicit setGeneric(.))
       "signif",#  {ditto}
       "tcrossprod",
       "unpack"
       )

## lmer-related
export("lmer")

exportClasses(
	      "BunchKaufman",
	      "pBunchKaufman",
	      "Cholesky",
	      "pCholesky",
	      "LU",
	      "Matrix",
	      ## also intermediate `virtual' ones:
	      "dMatrix",
              "lMatrix",
	      "sparseMatrix",
	      "dsparseMatrix",
              "lsparseMatrix",
	      ## not yet:   "iMatrix", "zMatrix",

	      "ddenseMatrix",

	      "dgBCMatrix",
	      "dgCMatrix",
	      "dgTMatrix",
	      "dgeMatrix",
	      "dpoMatrix",
	      "dppMatrix",
	      "dsCMatrix",
	      "dsTMatrix",
	      "dspMatrix",
	      "dsyMatrix",
	      "dtCMatrix",
	      "dtTMatrix",
	      "dtpMatrix",
	      "dtrMatrix",

              "lgCMatrix",
              "lsCMatrix",
              "ltCMatrix",
              "lgRMatrix",
              "lsRMatrix",
              "ltRMatrix",
              "lgTMatrix",
              "lsTMatrix",
              "ltTMatrix",

	      "corrmatrix",
	      "pMatrix",
	      "pdmatrix",
	      "dCholCMatrix",
              "lCholCMatrix"
	      )

## lmer-related
exportClasses("VarCorr", "lmer", "mer", "summary.lmer")


exportMethods(
	      ## Group Methods
	      "Arith",
	      "Math",
	      "Math2",

	      "+",# for dgT(Matrix) only
	      "%*%",

	      "Schur",
	      "as.matrix",
	      "chol",
              "colMeans",
              "colSums",
	      "coerce",
	      "crossprod",
	      "determinant",
	      "diag",
	      "dim",
	      "dimnames",
	      "dimnames<-",
	      "expand",
	      "expm",
              "kronecker",
	      "image",
              "mcmcsamp", ## lmer-related
	      "norm",
	      "rcond",
              "rowMeans",
              "rowSums",
	      "show",
	      "solve",
	      "t",
	      "tcrossprod"
	      )

## lmer-related
exportMethods("BIC", "anova", "coef", "confint", "deviance", "fitted", "fixef",
              "formula", "lmer", "logLik", "plot", "ranef", "residuals", "resid",
              "summary", "update", "vcov", "VarCorr", "with")
