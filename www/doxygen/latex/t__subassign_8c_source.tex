\doxysection{t\+\_\+subassign.\+c}
\hypertarget{t__subassign_8c_source}{}\label{t__subassign_8c_source}\index{t\_subassign.c@{t\_subassign.c}}
\mbox{\hyperlink{t__subassign_8c}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00001}00001\ \textcolor{comment}{/*-\/-\/-\/-\/-\/-\/\ Definition\ of\ a\ template\ for\ [diln]Csparse\_subassign(...)\ :\ *}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00002}00002\ \textcolor{comment}{\ *\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ -\/-\/-\/-\/-\/-\/-\/-\/\ \ \ \ \ \string~\string~\string~\string~\string~\string~\string~\string~\string~\string~\string~\string~\string~\string~\string~\string~\string~\string~\string~\string~\string~\string~}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00003}00003\ \textcolor{comment}{\ *\ i.e.,\ included\ several\ times\ from\ ./Csparse.c}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00004}00004\ \textcolor{comment}{\ *\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \string~\string~\string~\string~\string~\string~\string~\string~\string~\string~\string~}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00005}00005\ \textcolor{comment}{\ *\ \_slot\_kind\ :\ use\ the\ integer\ codes\ matching\ x\_slot\_kind\ in\ ./Csparse.c}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00006}00006\ \textcolor{comment}{\ */}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00007}00007\ }
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00008}00008\ \textcolor{preprocessor}{\#ifdef\ \_d\_Csp\_}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00009}00009\ }
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00010}00010\ \textcolor{preprocessor}{\#\ define\ Csparse\_subassign\ dCsparse\_subassign}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00011}00011\ \textcolor{preprocessor}{\#\ define\ x\_CLASSES\ "{}dgCMatrix"{},}\textcolor{comment}{/*\ 0\ */}\textcolor{preprocessor}{\ "{}dtCMatrix"{}\ }\textcolor{comment}{/*\ 1\ */}\textcolor{preprocessor}{}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00012}00012\ \textcolor{preprocessor}{\#\ define\ sparseVECTOR\ "{}dsparseVector"{}}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00013}00013\ \textcolor{preprocessor}{\#\ define\ slot\_kind\_x\ 0}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00014}00014\ \textcolor{preprocessor}{\#\ define\ \_DOUBLE\_x}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00015}00015\ \textcolor{preprocessor}{\#\ define\ \_has\_x\_slot\_}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00016}00016\ }
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00017}00017\ \textcolor{preprocessor}{\#\ undef\ \_d\_Csp\_}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00018}00018\ }
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00019}00019\ \textcolor{preprocessor}{\#elif\ defined\ (\_l\_Csp\_)}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00020}00020\ }
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00021}00021\ \textcolor{preprocessor}{\#\ define\ Csparse\_subassign\ lCsparse\_subassign}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00022}00022\ \textcolor{preprocessor}{\#\ define\ x\_CLASSES\ "{}lgCMatrix"{},}\textcolor{comment}{/*\ 0\ */}\textcolor{preprocessor}{\ "{}ltCMatrix"{}\ }\textcolor{comment}{/*\ 1\ */}\textcolor{preprocessor}{}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00023}00023\ \textcolor{preprocessor}{\#\ define\ sparseVECTOR\ "{}lsparseVector"{}}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00024}00024\ \textcolor{preprocessor}{\#\ define\ slot\_kind\_x\ 1}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00025}00025\ \textcolor{preprocessor}{\#\ define\ \_LGL\_x}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00026}00026\ \textcolor{preprocessor}{\#\ define\ \_has\_x\_slot\_}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00027}00027\ }
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00028}00028\ \textcolor{preprocessor}{\#\ undef\ \_l\_Csp\_}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00029}00029\ }
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00030}00030\ \textcolor{preprocessor}{\#elif\ defined\ (\_i\_Csp\_)}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00031}00031\ }
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00032}00032\ \textcolor{preprocessor}{\#\ define\ Csparse\_subassign\ iCsparse\_subassign}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00033}00033\ \textcolor{preprocessor}{\#\ define\ x\_CLASSES\ "{}igCMatrix"{},}\textcolor{comment}{/*\ 0\ */}\textcolor{preprocessor}{\ "{}itCMatrix"{}\ }\textcolor{comment}{/*\ 1\ */}\textcolor{preprocessor}{}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00034}00034\ \textcolor{preprocessor}{\#\ define\ sparseVECTOR\ "{}isparseVector"{}}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00035}00035\ \textcolor{preprocessor}{\#\ define\ slot\_kind\_x\ 2}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00036}00036\ \textcolor{preprocessor}{\#\ define\ \_INT\_x}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00037}00037\ \textcolor{preprocessor}{\#\ define\ \_has\_x\_slot\_}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00038}00038\ }
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00039}00039\ \textcolor{preprocessor}{\#\ undef\ \_i\_Csp\_}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00040}00040\ }
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00041}00041\ \textcolor{preprocessor}{\#elif\ defined\ (\_n\_Csp\_)}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00042}00042\ }
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00043}00043\ \textcolor{preprocessor}{\#\ define\ Csparse\_subassign\ nCsparse\_subassign}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00044}00044\ \textcolor{preprocessor}{\#\ define\ x\_CLASSES\ "{}ngCMatrix"{},}\textcolor{comment}{/*\ 0\ */}\textcolor{preprocessor}{\ "{}ntCMatrix"{}\ }\textcolor{comment}{/*\ 1\ */}\textcolor{preprocessor}{}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00045}00045\ \textcolor{preprocessor}{\#\ define\ sparseVECTOR\ "{}nsparseVector"{}}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00046}00046\ \textcolor{preprocessor}{\#\ define\ slot\_kind\_x\ -\/1}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00047}00047\ \textcolor{preprocessor}{\#\ define\ \_INT\_x}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00048}00048\ \textcolor{comment}{/*\ withOUT\ 'x'\ slot\ -\/-\/\ CARE!\ we\ assume\ that\ this\ is\ the\ *ONLY*\ case\ w/o\ x\ slot\ */}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00049}00049\ }
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00050}00050\ \textcolor{preprocessor}{\#\ undef\ \_n\_Csp\_}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00051}00051\ }
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00052}00052\ \textcolor{preprocessor}{\#elif\ defined\ (\_z\_Csp\_)}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00053}00053\ }
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00054}00054\ \textcolor{comment}{//\ \#\ \ error\ "{}zgC*\ not\ yet\ implemented"{}}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00055}00055\ \textcolor{preprocessor}{\#\ define\ Csparse\_subassign\ zCsparse\_subassign}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00056}00056\ \textcolor{preprocessor}{\#\ define\ x\_CLASSES\ "{}zgCMatrix"{},}\textcolor{comment}{/*\ 0\ */}\textcolor{preprocessor}{\ "{}ztCMatrix"{}\ }\textcolor{comment}{/*\ 1\ */}\textcolor{preprocessor}{}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00057}00057\ \textcolor{preprocessor}{\#\ define\ sparseVECTOR\ "{}zsparseVector"{}}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00058}00058\ \textcolor{preprocessor}{\#\ define\ slot\_kind\_x\ 3}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00059}00059\ \textcolor{preprocessor}{\#\ define\ \_CPLX\_x}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00060}00060\ \textcolor{preprocessor}{\#\ define\ \_has\_x\_slot\_}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00061}00061\ }
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00062}00062\ \textcolor{preprocessor}{\#\ undef\ \_z\_Csp\_}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00063}00063\ }
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00064}00064\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00065}00065\ }
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00066}00066\ \textcolor{preprocessor}{\#\ \ error\ "{}no\ valid\ \ \_[dilnz]gC\_\ option"{}}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00067}00067\ }
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00068}00068\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00069}00069\ \textcolor{comment}{//\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00070}00070\ }
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00071}00071\ \textcolor{preprocessor}{\#ifdef\ \_DOUBLE\_x}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00072}00072\ }
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00073}00073\ \textcolor{preprocessor}{\#\ define\ Type\_x\ double}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00074}00074\ \textcolor{preprocessor}{\#\ define\ Type\_x\_0\_init(\_VAR\_)\ double\ \_VAR\_\ =\ 0.}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00075}00075\ \textcolor{preprocessor}{\#\ define\ Type\_x\_1\_init(\_VAR\_)\ double\ \_VAR\_\ =\ 1.}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00076}00076\ \textcolor{preprocessor}{\#\ define\ STYP\_x\ REAL}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00077}00077\ \textcolor{preprocessor}{\#\ define\ SXP\_x\ \ REALSXP}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00078}00078\ \textcolor{preprocessor}{\#undef\ \_DOUBLE\_x}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00079}00079\ }
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00080}00080\ \textcolor{preprocessor}{\#elif\ defined\ (\_LGL\_x)}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00081}00081\ }
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00082}00082\ \textcolor{preprocessor}{\#\ define\ Type\_x\ int}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00083}00083\ \textcolor{preprocessor}{\#\ define\ Type\_x\_0\_init(\_VAR\_)\ int\ \_VAR\_\ =\ 0}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00084}00084\ \textcolor{preprocessor}{\#\ define\ Type\_x\_1\_init(\_VAR\_)\ int\ \_VAR\_\ =\ 1}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00085}00085\ \textcolor{preprocessor}{\#\ define\ STYP\_x\ LOGICAL}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00086}00086\ \textcolor{preprocessor}{\#\ define\ SXP\_x\ \ LGLSXP}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00087}00087\ \textcolor{preprocessor}{\#undef\ \_LGL\_x}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00088}00088\ }
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00089}00089\ \textcolor{preprocessor}{\#elif\ defined\ (\_INT\_x)}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00090}00090\ }
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00091}00091\ \textcolor{preprocessor}{\#\ define\ Type\_x\ int}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00092}00092\ \textcolor{preprocessor}{\#\ define\ Type\_x\_0\_init(\_VAR\_)\ int\ \_VAR\_\ =\ 0}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00093}00093\ \textcolor{preprocessor}{\#\ define\ Type\_x\_1\_init(\_VAR\_)\ int\ \_VAR\_\ =\ 1}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00094}00094\ \textcolor{preprocessor}{\#\ define\ STYP\_x\ INTEGER}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00095}00095\ \textcolor{preprocessor}{\#\ define\ SXP\_x\ \ INTSXP}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00096}00096\ \textcolor{preprocessor}{\#undef\ \_INT\_x}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00097}00097\ }
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00098}00098\ \textcolor{preprocessor}{\#elif\ defined\ (\_CPLX\_x)}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00099}00099\ }
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00100}00100\ \textcolor{preprocessor}{\#\ define\ Type\_x\ Rcomplex}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00101}00101\ \textcolor{preprocessor}{\#\ define\ Type\_x\_0\_init(\_VAR\_)\ Rcomplex\ \_VAR\_;\ \ \_VAR\_.r\ =\ \_VAR\_.i\ =\ 0.}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00102}00102\ \textcolor{preprocessor}{\#\ define\ Type\_x\_1\_init(\_VAR\_)\ Rcomplex\ \_VAR\_;\ \ \_VAR\_.r\ =\ 1.;\ \_VAR\_.i\ =\ 0.}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00103}00103\ \textcolor{preprocessor}{\#\ define\ STYP\_x\ COMPLEX}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00104}00104\ \textcolor{preprocessor}{\#\ define\ SXP\_x\ \ CPLXSXP}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00105}00105\ }
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00106}00106\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00107}00107\ \textcolor{preprocessor}{\#\ \ error\ "{}invalid\ macro\ logic"{}}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00108}00108\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00109}00109\ }
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00110}00110\ }
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00111}00111\ }
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00122}\mbox{\hyperlink{t__subassign_8c_acd57fdd460d858cc1b8696d23ba65088}{00122}}\ SEXP\ \mbox{\hyperlink{t__subassign_8c_acd57fdd460d858cc1b8696d23ba65088}{Csparse\_subassign}}(SEXP\ x,\ SEXP\ i\_,\ SEXP\ j\_,\ SEXP\ value)}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00123}00123\ \{}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00124}00124\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00125}00125\ \ \ \ \ *valid\_cM\ []\ =\ \{\ \textcolor{comment}{//\ the\ only\ ones,\ for\ "{}the\ moment"{}.\ FIXME:\ extend\ (!)}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00126}00126\ \ \ \ \ x\_CLASSES,}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00127}00127\ \ \ \ \ \textcolor{stringliteral}{"{}"{}}\},}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00128}00128\ \ \ \ \ \textcolor{comment}{//\ value:\ assume\ a\ \ "{}dsparseVector"{}\ for\ now\ -\/-\/\ slots:\ (i,\ length,\ x)}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00129}00129\ \ \ \ \ *valid\_spv[]\ =\ \{\ sparseVECTOR,\ \textcolor{comment}{//\ =\ "{}the\ one\ with\ the\ same\ slot-\/class"{}}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00130}00130\ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ all\ others:\ ctype\_v\ \ \ slot\_kind}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00131}00131\ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}nsparseVector"{}},\textcolor{comment}{//\ 1\ \ \ \ \ -\/1}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00132}00132\ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}lsparseVector"{}},\textcolor{comment}{//\ 2\ \ \ \ \ \ 1}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00133}00133\ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}isparseVector"{}},\textcolor{comment}{//\ 3\ \ \ \ \ \ 2}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00134}00134\ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}dsparseVector"{}},\textcolor{comment}{//\ 4\ \ \ \ \ \ 0}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00135}00135\ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}zsparseVector"{}},\textcolor{comment}{//\ 5\ \ \ \ \ \ 3}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00136}00136\ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}"{}}\};}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00137}00137\ }
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00138}00138\ \ \ \ \ \textcolor{keywordtype}{int}\ ctype\_x\ =\ R\_check\_class\_etc(x,\ \ \ \ \ valid\_cM),}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00139}00139\ \ \ \ \ ctype\_v\ =\ R\_check\_class\_etc(value,\ valid\_spv);}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00140}00140\ \ \ \ \ \textcolor{keywordflow}{if}\ (ctype\_x\ <\ 0)}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00141}00141\ \ \ \ \ Rf\_error(\mbox{\hyperlink{Mdefines_8h_a32a3cf3d9dd914f5aeeca5423c157934}{\_}}(\textcolor{stringliteral}{"{}invalid\ class\ of\ 'x'\ in\ Csparse\_subassign()"{}}));}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00142}00142\ \ \ \ \ \textcolor{keywordflow}{if}\ (ctype\_v\ <\ 0)}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00143}00143\ \ \ \ \ Rf\_error(\mbox{\hyperlink{Mdefines_8h_a32a3cf3d9dd914f5aeeca5423c157934}{\_}}(\textcolor{stringliteral}{"{}invalid\ class\ of\ 'value'\ in\ Csparse\_subassign()"{}}));}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00144}00144\ \ \ \ \ Rboolean\ value\_is\_nsp\ =\ ctype\_v\ ==\ 1;}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00145}00145\ \textcolor{preprocessor}{\#ifndef\ \_has\_x\_slot\_\ }\textcolor{comment}{//\ i.e.\ "{}n.CMatrix"{}\ :\ sparseVECTOR\ ==\ "{}nsparseVector"{}}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00146}00146\ \ \ \ \ \textcolor{keywordflow}{if}(!value\_is\_nsp)\ value\_is\_nsp\ =\ (ctype\_v\ ==\ 0);}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00147}00147\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00148}00148\ }
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00149}00149\ \ \ \ \ SEXP}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00150}00150\ \ \ \ \ islot\ \ \ =\ \mbox{\hyperlink{Mdefines_8h_aae955dc7257fba2c0b151319eba848ef}{GET\_SLOT}}(x,\ \mbox{\hyperlink{init_8c_a900b6b19a8e80b529c1a26eb9fb6156d}{Matrix\_iSym}}),}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00151}00151\ \ \ \ \ dimslot\ =\ \mbox{\hyperlink{Mdefines_8h_aae955dc7257fba2c0b151319eba848ef}{GET\_SLOT}}(x,\ \mbox{\hyperlink{init_8c_a2b91d011a529c5665e032a6565275374}{Matrix\_DimSym}}),}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00152}00152\ \ \ \ \ i\_cp\ =\ PROTECT(Rf\_coerceVector(i\_,\ INTSXP)),}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00153}00153\ \ \ \ \ j\_cp\ =\ PROTECT(Rf\_coerceVector(j\_,\ INTSXP));}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00154}00154\ \ \ \ \ \textcolor{comment}{//\ for\ d.CMatrix\ and\ l.CMatrix\ \ but\ not\ n.CMatrix:}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00155}00155\ }
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00156}00156\ \ \ \ \ \textcolor{keywordtype}{int}\ *dims\ =\ INTEGER(dimslot),}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00157}00157\ \ \ \ \ ncol\ =\ dims[1],\ \textcolor{comment}{/*\ nrow\ =\ dims[0],\ */}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00158}00158\ \ \ \ \ *i\ =\ INTEGER(i\_cp),\ len\_i\ =\ LENGTH(i\_cp),}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00159}00159\ \ \ \ \ *j\ =\ INTEGER(j\_cp),\ len\_j\ =\ LENGTH(j\_cp),}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00160}00160\ \ \ \ \ k,}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00161}00161\ \ \ \ \ nnz\_x\ =\ LENGTH(islot);}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00162}00162\ \ \ \ \ \textcolor{keywordtype}{int}\ nnz\ =\ nnz\_x;}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00163}00163\ }
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00164}00164\ \textcolor{preprocessor}{\#define\ MATRIX\_SUBASSIGN\_VERBOSE}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00165}00165\ \textcolor{comment}{//\ Temporary\ hack\ for\ debugging\ -\/-\/-\/\ remove\ eventually\ -\/-\/\ FIXME}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00166}00166\ \textcolor{preprocessor}{\#ifdef\ MATRIX\_SUBASSIGN\_VERBOSE}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00167}00167\ \ \ \ \ Rboolean\ verbose\ =\ i[0]\ <\ 0;}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00168}00168\ \ \ \ \ \textcolor{keywordflow}{if}(verbose)\ \{}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00169}00169\ \ \ \ \ i[0]\ =\ -\/i[0];}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00170}00170\ \ \ \ \ REprintf(\textcolor{stringliteral}{"{}Csparse\_subassign()\ x[i,j]\ <-\/\ val;\ x\ is\ \(\backslash\)"{}\%s\(\backslash\)"{};\ value\ \(\backslash\)"{}\%s\(\backslash\)"{}\ is\_nsp=\%d\(\backslash\)n"{}},}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00171}00171\ \ \ \ \ \ \ \ \ \ valid\_cM[ctype\_x],\ valid\_spv[ctype\_v],\ (\textcolor{keywordtype}{int})value\_is\_nsp);}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00172}00172\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00173}00173\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00174}00174\ }
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00175}00175\ \ \ \ \ SEXP\ val\_i\_slot,\ val\_x\_slot;}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00176}00176\ \ \ \ \ val\_i\_slot\ =\ PROTECT(Rf\_coerceVector(\mbox{\hyperlink{Mdefines_8h_aae955dc7257fba2c0b151319eba848ef}{GET\_SLOT}}(value,\ \mbox{\hyperlink{init_8c_a900b6b19a8e80b529c1a26eb9fb6156d}{Matrix\_iSym}}),\ REALSXP));}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00177}00177\ \ \ \ \ \textcolor{keywordtype}{double}\ *val\_i\ =\ REAL(val\_i\_slot);}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00178}00178\ \ \ \ \ \textcolor{keywordtype}{int}\ nnz\_val\ =\ LENGTH(\mbox{\hyperlink{Mdefines_8h_aae955dc7257fba2c0b151319eba848ef}{GET\_SLOT}}(value,\ \mbox{\hyperlink{init_8c_a900b6b19a8e80b529c1a26eb9fb6156d}{Matrix\_iSym}})),\ n\_prot\ =\ 4;}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00179}00179\ \ \ \ \ Type\_x\ *val\_x\ =\ NULL;}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00180}00180\ \ \ \ \ \textcolor{keywordflow}{if}(!value\_is\_nsp)\ \{}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00181}00181\ \ \ \ \ \textcolor{keywordflow}{if}(ctype\_v)\ \{\ \textcolor{comment}{//\ matrix\ 'x'\ and\ 'value'\ are\ of\ different\ kinds}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00182}00182\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{switch}((\textcolor{keyword}{enum}\ \mbox{\hyperlink{subassign_8c_a0513d8a9f2e4f454f1fc3a59c4a6f181}{x\_slot\_kind}})\ slot\_kind\_x)\ \{}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00183}00183\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{subassign_8c_a0513d8a9f2e4f454f1fc3a59c4a6f181af08efd0da3716cb69cc8dc3a5ca6b76f}{x\_pattern}}:\textcolor{comment}{//\ "{}n"{}}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00184}00184\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{subassign_8c_a0513d8a9f2e4f454f1fc3a59c4a6f181ab3a3051968f4171a6f035164412f68a5}{x\_logical}}:\textcolor{comment}{//\ "{}l"{}}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00185}00185\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(ctype\_v\ >=\ 3)}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00186}00186\ \ \ \ \ \ \ \ \ \ \ \ \ Rf\_warning(\mbox{\hyperlink{Mdefines_8h_a32a3cf3d9dd914f5aeeca5423c157934}{\_}}(\textcolor{stringliteral}{"{}x[]\ <-\/\ val:\ val\ is\ coerced\ to\ logical\ for\ \(\backslash\)"{}\%s\(\backslash\)"{}\ x"{}}),}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00187}00187\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ valid\_cM[ctype\_x]);}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00188}00188\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00189}00189\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{subassign_8c_a0513d8a9f2e4f454f1fc3a59c4a6f181aae6c99602d8ebd0046fe45aab166d0f0}{x\_integer}}:}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00190}00190\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(ctype\_v\ >=\ 4)}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00191}00191\ \ \ \ \ \ \ \ \ \ \ \ \ Rf\_error(\mbox{\hyperlink{Mdefines_8h_a32a3cf3d9dd914f5aeeca5423c157934}{\_}}(\textcolor{stringliteral}{"{}x[]\ <-\/\ val:\ val\ should\ be\ integer\ or\ logical,\ is\ coerced\ to\ integer,\ for\ \(\backslash\)"{}\%s\(\backslash\)"{}\ x"{}}),}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00192}00192\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ valid\_cM[ctype\_x]);}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00193}00193\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00194}00194\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{subassign_8c_a0513d8a9f2e4f454f1fc3a59c4a6f181a2a95e471311414715f5477d7a4f11564}{x\_double}}:}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00195}00195\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{subassign_8c_a0513d8a9f2e4f454f1fc3a59c4a6f181a3ec540f6985f1adf7e7363ff1589a42b}{x\_complex}}:\ \textcolor{comment}{//\ coercion\ should\ be\ tried\ (and\ fail\ for\ complex\ -\/>\ double)\ below}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00196}00196\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00197}00197\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{default}:}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00198}00198\ \ \ \ \ \ \ \ \ Rf\_error(\mbox{\hyperlink{Mdefines_8h_a32a3cf3d9dd914f5aeeca5423c157934}{\_}}(\textcolor{stringliteral}{"{}programming\ error\ in\ Csparse\_subassign()\ should\ never\ happen"{}}));}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00199}00199\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00200}00200\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ otherwise:\ "{}coerce"{}\ :\ \ as(.,\ <sparseVector>)\ :}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00201}00201\ \ \ \ \ \ \ \ \ val\_x\_slot\ =\ PROTECT(Rf\_coerceVector(\mbox{\hyperlink{Mdefines_8h_aae955dc7257fba2c0b151319eba848ef}{GET\_SLOT}}(value,\ \mbox{\hyperlink{init_8c_a8e6ccf1b89de0c7d61722fd1579eb085}{Matrix\_xSym}}),\ SXP\_x));\ n\_prot++;}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00202}00202\ \ \ \ \ \ \ \ \ val\_x\ =\ STYP\_x(val\_x\_slot);}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00203}00203\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00204}00204\ \ \ \ \ \ \ \ \ val\_x\ =\ STYP\_x(\ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{Mdefines_8h_aae955dc7257fba2c0b151319eba848ef}{GET\_SLOT}}(value,\ \mbox{\hyperlink{init_8c_a8e6ccf1b89de0c7d61722fd1579eb085}{Matrix\_xSym}}));}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00205}00205\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00206}00206\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00207}00207\ \ \ \ \ int64\_t\ len\_val\ =\ (int64\_t)\ Rf\_asReal(\mbox{\hyperlink{Mdefines_8h_aae955dc7257fba2c0b151319eba848ef}{GET\_SLOT}}(value,\ \mbox{\hyperlink{init_8c_a8f4aeebfa616945baf197391d7a5fca9}{Matrix\_lengthSym}}));}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00208}00208\ \ \ \ \ \textcolor{comment}{/*\ llen\_i\ =\ (int64\_t)\ len\_i;\ */}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00209}00209\ }
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00210}00210\ \ \ \ \ SEXP\ ans;}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00211}00211\ \ \ \ \ \textcolor{comment}{/*\ Instead\ of\ simple\ "{}duplicate"{}\ ans\ =\ Rf\_duplicate(x),\ build\ up:\ */}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00212}00212\ \ \ \ \ \textcolor{comment}{//\ Assuming\ that\ ans\ will\ have\ the\ same\ basic\ Matrix\ type\ as\ x\ :}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00213}00213\ \ \ \ \ ans\ =\ PROTECT(\mbox{\hyperlink{Mdefines_8h_ad794d2d904f14e22e2e24c4bed786708}{newObject}}(valid\_cM[ctype\_x]));}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00214}00214\ \ \ \ \ \mbox{\hyperlink{Mdefines_8h_aee09bb5723bf209739e63e2f00c41ff7}{SET\_SLOT}}(ans,\ \mbox{\hyperlink{init_8c_a2b91d011a529c5665e032a6565275374}{Matrix\_DimSym}},\ \ \ \ \ \ Rf\_duplicate(dimslot));}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00215}00215\ \ \ \ \ \mbox{\hyperlink{Mdefines_8h_aee09bb5723bf209739e63e2f00c41ff7}{SET\_SLOT}}(ans,\ \mbox{\hyperlink{init_8c_a93d8b8a3cd9c897599b3e2d996821a0b}{Matrix\_DimNamesSym}},\ Rf\_duplicate(\mbox{\hyperlink{Mdefines_8h_aae955dc7257fba2c0b151319eba848ef}{GET\_SLOT}}(x,\ \mbox{\hyperlink{init_8c_a93d8b8a3cd9c897599b3e2d996821a0b}{Matrix\_DimNamesSym}})));}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00216}00216\ \ \ \ \ \mbox{\hyperlink{Mdefines_8h_aee09bb5723bf209739e63e2f00c41ff7}{SET\_SLOT}}(ans,\ \mbox{\hyperlink{init_8c_af08cd6c75b2da4b71c2eb605e00e94ab}{Matrix\_pSym}},\ \ \ \ \ \ \ \ Rf\_duplicate(\mbox{\hyperlink{Mdefines_8h_aae955dc7257fba2c0b151319eba848ef}{GET\_SLOT}}(x,\ \mbox{\hyperlink{init_8c_af08cd6c75b2da4b71c2eb605e00e94ab}{Matrix\_pSym}})));}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00217}00217\ \ \ \ \ SEXP\ r\_pslot\ =\ \mbox{\hyperlink{Mdefines_8h_aae955dc7257fba2c0b151319eba848ef}{GET\_SLOT}}(ans,\ \mbox{\hyperlink{init_8c_af08cd6c75b2da4b71c2eb605e00e94ab}{Matrix\_pSym}});}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00218}00218\ \ \ \ \ \textcolor{comment}{//\ and\ assign\ the\ i-\/\ and\ x-\/\ slots\ at\ the\ end,\ as\ they\ are\ potentially\ modified}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00219}00219\ \ \ \ \ \textcolor{comment}{//\ not\ just\ in\ content,\ but\ also\ in\ their\ *length*}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00220}00220\ \ \ \ \ \textcolor{keywordtype}{int}\ *rp\ =\ INTEGER(r\_pslot),}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00221}00221\ \ \ \ \ *ri\ =\ R\_Calloc(nnz\_x,\ \textcolor{keywordtype}{int});\ \ \ \ \ \ \ \textcolor{comment}{//\ to\ contain\ the\ final\ i\ -\/\ slot}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00222}00222\ \ \ \ \ Memcpy(ri,\ INTEGER(islot),\ nnz\_x);}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00223}00223\ \ \ \ \ Type\_x\_0\_init(z\_ans);}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00224}00224\ \ \ \ \ Type\_x\_1\_init(one\_ans);}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00225}00225\ \textcolor{preprocessor}{\#ifdef\ \_has\_x\_slot\_}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00226}00226\ \ \ \ \ Type\_x\ *rx\ =\ R\_Calloc(nnz\_x,\ Type\_x);\ \textcolor{comment}{//\ to\ contain\ the\ final\ x\ -\/\ slot}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00227}00227\ \ \ \ \ Memcpy(rx,\ STYP\_x(\mbox{\hyperlink{Mdefines_8h_aae955dc7257fba2c0b151319eba848ef}{GET\_SLOT}}(x,\ \mbox{\hyperlink{init_8c_a8e6ccf1b89de0c7d61722fd1579eb085}{Matrix\_xSym}})),\ nnz\_x);}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00228}00228\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00229}00229\ \ \ \ \ \textcolor{comment}{//\ NB:\ \ nnz\_x\ :\ will\ always\ be\ the\ "{}current\ allocated\ length"{}\ of\ (i,\ x)\ slots}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00230}00230\ \ \ \ \ \textcolor{comment}{//\ -\/-\/\ \ \ nnz\ \ \ :\ the\ current\ *used*\ length;\ always\ \ \ nnz\ <=\ nnz\_x}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00231}00231\ }
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00232}00232\ \ \ \ \ \textcolor{keywordtype}{int}\ jj,\ j\_val\ =\ 0;\ \textcolor{comment}{//\ in\ "{}running"{}\ conceptionally\ through\ all\ value[i+\ jj*len\_i]}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00233}00233\ \ \ \ \ \textcolor{comment}{//\ values,\ we\ are\ "{}below"{}/"{}before"{}\ the\ (j\_val)-\/th\ non-\/zero\ one.}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00234}00234\ \ \ \ \ \textcolor{comment}{//\ e.g.\ if\ value\ =\ (0,0,...,0),\ have\ nnz\_val\ ==\ 0,\ j\_val\ must\ remain\ ==\ 0}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00235}00235\ \ \ \ \ int64\_t\ ii\_val;\textcolor{comment}{//\ ==\ "{}running"{}\ index\ (i\ +\ jj*len\_i)\ \%\ len\_val\ for\ value[]}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00236}00236\ \ \ \ \ \textcolor{keywordflow}{for}(jj\ =\ 0,\ ii\_val=0;\ jj\ <\ len\_j;\ jj++)\ \{}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00237}00237\ \ \ \ \ \textcolor{keywordtype}{int}\ j\_\_\ =\ j[jj];}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00238}00238\ \ \ \ \ \textcolor{comment}{/*\ int64\_t\ j\_l\ =\ jj\ *\ llen\_i;\ */}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00239}00239\ \ \ \ \ R\_CheckUserInterrupt();}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00240}00240\ \ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int}\ ii\ =\ 0;\ ii\ <\ len\_i;\ ii++,\ ii\_val++)\ \{}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00241}00241\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ i\_\_\ =\ i[ii],\ p1,\ p2;}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00242}00242\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(nnz\_val\ \&\&\ ii\_val\ >=\ len\_val)\ \{\ \textcolor{comment}{//\ "{}recycle"{}\ indexing\ into\ value[]}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00243}00243\ \ \ \ \ \ \ \ \ ii\_val\ -\/=\ len\_val;\ \textcolor{comment}{//\ =\ (ii\ +\ jj*len\_i)\ \%\ len\_val}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00244}00244\ \ \ \ \ \ \ \ \ j\_val\ =\ 0;}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00245}00245\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00246}00246\ \ \ \ \ \ \ \ \ int64\_t\ ii\_v1;\textcolor{comment}{//=\ ii\_val\ +\ 1;}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00247}00247\ \ \ \ \ \ \ \ \ Type\_x\ v,\ \textcolor{comment}{/*\ :=\ value[(ii\ +\ j\_l)\ \%\ len\_val]}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00248}00248\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ \ \ \ \ =\ .sparseVector\_sub((ii\ +\ j\_l)\ \%\ len\_val,}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00249}00249\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ \ \ \ \ nnz\_val,\ val\_i,\ val\_x,\ len\_val)}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00250}00250\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ */}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00251}00251\ \ \ \ \ \ \ \ \ M\_ij;}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00252}00252\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ ind;}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00253}00253\ \ \ \ \ \ \ \ \ Rboolean\ have\_entry\ =\ FALSE;}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00254}00254\ }
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00255}00255\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ note\ that\ rp[]'s\ may\ have\ *changed*\ even\ when\ 'j'\ remained!}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00256}00256\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ "{}FIXME"{}:\ do\ this\ only\ *when*\ rp[]\ has\ changed}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00257}00257\ \ \ \ \ \ \ \ \ p1\ =\ rp[j\_\_],\ p2\ =\ rp[j\_\_\ +\ 1];}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00258}00258\ }
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00259}00259\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ v\ :=\ \ value[(ii\ +\ j\_l)\ \%\ len\_val]\ =\ value[ii\_val]}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00260}00260\ \ \ \ \ \ \ \ \ v\ =\ z\_ans;}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00261}00261\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(j\_val\ <\ nnz\_val)\ \{\ \textcolor{comment}{//\ maybe\ find\ v\ :=\ non-\/zero\ value[ii\_val]}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00262}00262\ \ \ \ \ \ \ \ \ ii\_v1\ =\ ii\_val\ +\ 1;}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00263}00263\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(ii\_v1\ <\ val\_i[j\_val])\ \{\ \textcolor{comment}{//\ typical\ case:\ are\ still\ in\ zero-\/stretch}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00264}00264\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ v\ =\ z\_ans\ (==\ 0)}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00265}00265\ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}(ii\_v1\ ==\ val\_i[j\_val])\ \{\ \textcolor{comment}{//\ have\ a\ match}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00266}00266\ \ \ \ \ \ \ \ \ \ \ \ \ v\ =\ (value\_is\_nsp)\ ?\ one\_ans\ :\ val\_x[j\_val];}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00267}00267\ \ \ \ \ \ \ \ \ \ \ \ \ j\_val++;\textcolor{comment}{//\ from\ now\ on,\ look\ at\ the\ next\ non-\/zero\ entry}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00268}00268\ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{\ \textcolor{comment}{//\ \ ii\_v1\ >\ val\_i[j\_val]}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00269}00269\ \ \ \ \ \ \ \ \ \ \ \ \ REprintf(\textcolor{stringliteral}{"{}programming\ thinko\ in\ Csparse\_subassign(*,\ i=\%d,j=\%d):\ ii\_v=\%lld,\ v@i[j\_val=\%d]=\%g\(\backslash\)n"{}},}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00270}00270\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ i\_\_,j\_\_,\ (\textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long})ii\_v1,\ j\_val,\ val\_i[j\_val]);}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00271}00271\ \ \ \ \ \ \ \ \ \ \ \ \ j\_val++;\textcolor{comment}{//\ from\ now\ on,\ look\ at\ the\ next\ non-\/zero\ entry}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00272}00272\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00273}00273\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00274}00274\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/\ M\_ij\ :=\ getM(i.,\ j.)\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00275}00275\ \ \ \ \ \ \ \ \ M\_ij\ =\ z\_ans;\ \textcolor{comment}{//\ as\ in\ \ ./t\_sparseVector.c}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00276}00276\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}(ind\ =\ p1;\ ind\ <\ p2;\ ind++)\ \{}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00277}00277\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(ri[ind]\ >=\ i\_\_)\ \{}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00278}00278\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(ri[ind]\ ==\ i\_\_)\ \{}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00279}00279\ \textcolor{preprocessor}{\#ifdef\ \_has\_x\_slot\_}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00280}00280\ \ \ \ \ \ \ \ \ \ \ \ \ M\_ij\ =\ rx[ind];}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00281}00281\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00282}00282\ \ \ \ \ \ \ \ \ \ \ \ \ M\_ij\ =\ 1;}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00283}00283\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00284}00284\ \textcolor{preprocessor}{\#ifdef\ MATRIX\_SUBASSIGN\_VERBOSE}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00285}00285\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(verbose)}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00286}00286\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ REprintf(\textcolor{stringliteral}{"{}have\ entry\ x[\%d,\ \%d]\ =\ \%g\(\backslash\)n"{}},\ i\_\_,\ j\_\_,}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00287}00287\ \#\ \ ifdef\ \_CPLX\_x}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00288}00288\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (\textcolor{keywordtype}{double})M\_ij.r);}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00289}00289\ \textcolor{preprocessor}{\#\ \ else}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00290}00290\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (double)M\_ij);}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00291}00291\ \textcolor{preprocessor}{\#\ \ endif}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00292}00292\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00293}00293\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ have\_entry\ =\ TRUE;}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00294}00294\ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{\ \textcolor{comment}{//\ ri[ind]\ >\ i\_\_}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00295}00295\ \textcolor{preprocessor}{\#ifdef\ MATRIX\_SUBASSIGN\_VERBOSE}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00296}00296\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(verbose)}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00297}00297\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ REprintf(\textcolor{stringliteral}{"{}@i\ >\ i\_\_\ =\ \%d\ -\/-\/>\ ind-\/-\/\ =\ \%d\(\backslash\)n"{}},\ i\_\_,\ ind);}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00298}00298\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00299}00299\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00300}00300\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00301}00301\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00302}00302\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00303}00303\ }
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00304}00304\ \ \ \ \ \textcolor{comment}{//-\/-\/\ R:\ \ if(getM(i.,\ j.)\ !=\ (v\ <-\/\ getV(ii,\ jj)))}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00305}00305\ }
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00306}00306\ \ \ \ \ \textcolor{comment}{//\ if(contents\ differ)\ ==>\ value\ needs\ to\ be\ changed\ :}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00307}00307\ \textcolor{preprocessor}{\#ifdef\ \_CPLX\_x}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00308}00308\ \ \ \ \ \textcolor{keywordflow}{if}(M\_ij.r\ !=\ v.r\ ||\ M\_ij.i\ !=\ v.i)\ \{}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00309}00309\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00310}00310\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(M\_ij\ !=\ v)\ \{}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00311}00311\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00312}00312\ }
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00313}00313\ \textcolor{preprocessor}{\#ifdef\ MATRIX\_SUBASSIGN\_VERBOSE}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00314}00314\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(verbose)}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00315}00315\ \ \ \ \ \ \ \ \ \ \ \ \ REprintf(\textcolor{stringliteral}{"{}setting\ x[\%d,\ \%d]\ <-\/\ \%g"{}},\ i\_\_,j\_\_,}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00316}00316\ \#\ \ ifdef\ \_CPLX\_x}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00317}00317\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (\textcolor{keywordtype}{double})\ v.r);}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00318}00318\ \textcolor{preprocessor}{\#\ \ else}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00319}00319\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (double)\ v);}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00320}00320\ \textcolor{preprocessor}{\#\ \ endif}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00321}00321\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00322}00322\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ (otherwise:\ nothing\ to\ do):}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00323}00323\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ setM(i\_\_,\ j\_\_,\ v)}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00324}00324\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00325}00325\ }
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00326}00326\ \textcolor{preprocessor}{\#ifndef\ \_has\_x\_slot\_}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00327}00327\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(v\ ==\ z\_ans)\ \{}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00328}00328\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Case\ I\ -\/-\/-\/-\/-\/\ remove\ x[i,\ j]\ =\ M\_ij\ \ which\ we\ know\ is\ *non*-\/zero}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00329}00329\ \textcolor{comment}{//\ \ BUT\ it\ is\ more\ efficient\ (memory-\/management!)\ *NOT*\ to\ remove,}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00331}00331\ \textcolor{comment}{//\ \ currently\ using\ \ drop0()\ in\ R\ code}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00332}00332\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ we\ know\ :\ have\_entry\ =\ TRUE\ ;}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00333}00333\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ \ ri[ind]\ ==\ i\_\_;\ M\_ij\ =\ rx[ind];}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00334}00334\ \textcolor{preprocessor}{\#ifdef\ MATRIX\_SUBASSIGN\_VERBOSE}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00335}00335\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(verbose)}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00336}00336\ \ \ \ \ \ \ \ \ \ \ \ \ REprintf(\textcolor{stringliteral}{"{}\ rm\ ind=\%d\(\backslash\)n"{}},\ ind);}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00337}00337\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00338}00338\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ remove\ the\ 'ind'-\/th\ element\ from\ x@i\ and\ x@x\ :}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00339}00339\ \ \ \ \ \ \ \ \ nnz-\/-\/\ ;}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00340}00340\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}(k=ind;\ k\ <\ nnz;\ k++)\ \{}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00341}00341\ \ \ \ \ \ \ \ \ \ \ \ \ ri[k]\ =\ ri[k+1];}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00342}00342\ \textcolor{preprocessor}{\#ifdef\ \_has\_x\_slot\_}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00343}00343\ \ \ \ \ \ \ \ \ \ \ \ \ rx[k]\ =\ rx[k+1];}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00344}00344\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00345}00345\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00346}00346\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}(k=j\_\_\ +\ 1;\ k\ <=\ ncol;\ k++)\ \{}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00347}00347\ \ \ \ \ \ \ \ \ \ \ \ \ rp[k]\ =\ rp[k]\ -\/\ 1;}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00348}00348\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00349}00349\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00350}00350\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00351}00351\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00352}00352\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(have\_entry)\ \{}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00353}00353\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Case\ II\ -\/-\/-\/-\/-\/\ replace\ (non-\/empty)\ x[i,j]\ by\ v\ -\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00354}00354\ \textcolor{preprocessor}{\#ifdef\ MATRIX\_SUBASSIGN\_VERBOSE}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00355}00355\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(verbose)}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00356}00356\ \ \ \ \ \ \ \ \ \ \ \ \ REprintf(\textcolor{stringliteral}{"{}\ repl.\ \ ind=\%d\(\backslash\)n"{}},\ ind);}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00357}00357\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00358}00358\ \textcolor{preprocessor}{\#ifdef\ \_has\_x\_slot\_}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00359}00359\ \ \ \ \ \ \ \ \ \ \ \ \ rx[ind]\ =\ v;}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00360}00360\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00361}00361\ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00362}00362\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Case\ III\ -\/-\/-\/-\/-\/\ v\ !=\ 0\ :\ insert\ v\ into\ "{}empty"{}\ x[i,j]\ -\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00363}00363\ }
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00364}00364\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ extend\ the\ \ i\ \ and\ \ x\ \ slot\ by\ one\ entry\ :\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00365}00365\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(nnz+1\ >\ nnz\_x)\ \{\ \textcolor{comment}{//\ need\ to\ reallocate:}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00366}00366\ \textcolor{preprocessor}{\#ifdef\ MATRIX\_SUBASSIGN\_VERBOSE}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00367}00367\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(verbose)\ REprintf(\textcolor{stringliteral}{"{}\ R\_Realloc()ing:\ nnz\_x=\%d"{}},\ nnz\_x);}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00368}00368\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00369}00369\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ do\ it\ "{}only"{}\ 1x,..4x\ at\ the\ very\ most\ increasing\ by\ the}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00370}00370\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ nnz-\/length\ of\ "{}value"{}:}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00371}00371\ \ \ \ \ \ \ \ \ \ \ \ \ nnz\_x\ +=\ (1\ +\ nnz\_val\ /\ 4);}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00372}00372\ \textcolor{preprocessor}{\#ifdef\ MATRIX\_SUBASSIGN\_VERBOSE}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00373}00373\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(verbose)\ REprintf(\textcolor{stringliteral}{"{}(nnz\_v=\%d)\ -\/-\/>\ \%d\ "{}},\ nnz\_val,\ nnz\_x);}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00374}00374\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00375}00375\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ C\ doc\ on\ realloc()\ says\ that\ the\ old\ content\ is\ *preserve*d}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00376}00376\ \ \ \ \ \ \ \ \ \ \ \ \ ri\ =\ R\_Realloc(ri,\ (\textcolor{keywordtype}{size\_t})\ nnz\_x,\ \textcolor{keywordtype}{int});}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00377}00377\ \textcolor{preprocessor}{\#ifdef\ \_has\_x\_slot\_}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00378}00378\ \ \ \ \ \ \ \ \ \ \ \ \ rx\ =\ R\_Realloc(rx,\ (\textcolor{keywordtype}{size\_t})\ nnz\_x,\ Type\_x);}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00379}00379\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00380}00380\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00381}00381\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ 3)\ fill\ them\ ...}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00382}00382\ }
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00383}00383\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ i1\ =\ ind;}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00384}00384\ \textcolor{preprocessor}{\#ifdef\ MATRIX\_SUBASSIGN\_VERBOSE}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00385}00385\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(verbose)}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00386}00386\ \ \ \ \ \ \ \ \ \ \ \ \ REprintf(\textcolor{stringliteral}{"{}\ INSERT\ p12=(\%d,\%d)\ -\/>\ ind=\%d\ -\/>\ i1\ =\ \%d\(\backslash\)n"{}},}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00387}00387\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ p1,p2,\ ind,\ i1);}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00388}00388\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00389}00389\ }
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00390}00390\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ shift\ the\ "{}upper\ values"{}\ *before*\ the\ insertion:}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00391}00391\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int}\ l\ =\ nnz-\/1;\ l\ >=\ i1;\ l-\/-\/)\ \{}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00392}00392\ \ \ \ \ \ \ \ \ \ \ \ \ ri[l+1]\ =\ ri[l];}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00393}00393\ \textcolor{preprocessor}{\#ifdef\ \_has\_x\_slot\_}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00394}00394\ \ \ \ \ \ \ \ \ \ \ \ \ rx[l+1]\ =\ rx[l];}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00395}00395\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00396}00396\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00397}00397\ \ \ \ \ \ \ \ \ \ \ \ \ ri[i1]\ =\ i\_\_;}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00398}00398\ \textcolor{preprocessor}{\#ifdef\ \_has\_x\_slot\_}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00399}00399\ \ \ \ \ \ \ \ \ \ \ \ \ rx[i1]\ =\ v;}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00400}00400\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00401}00401\ \ \ \ \ \ \ \ \ \ \ \ \ nnz++;}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00402}00402\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ the\ columns\ j\ "{}right"{}\ of\ the\ current\ one\ :}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00403}00403\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}(k=j\_\_\ +\ 1;\ k\ <=\ ncol;\ k++)}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00404}00404\ \ \ \ \ \ \ \ \ \ \ \ \ rp[k]++;}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00405}00405\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00406}00406\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00407}00407\ \textcolor{preprocessor}{\#ifdef\ MATRIX\_SUBASSIGN\_VERBOSE}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00408}00408\ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}(verbose)\ REprintf(\textcolor{stringliteral}{"{}M\_ij\ ==\ v\ =\ \%g\(\backslash\)n"{}},}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00409}00409\ \#\ \ ifdef\ \_CPLX\_x}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00410}00410\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (\textcolor{keywordtype}{double})\ v.r);}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00411}00411\ \textcolor{preprocessor}{\#\ \ else}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00412}00412\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (double)\ v);}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00413}00413\ \textcolor{preprocessor}{\#\ \ endif}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00414}00414\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00415}00415\ \ \ \ \ \}\textcolor{comment}{//\ for(\ ii\ )}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00416}00416\ \ \ \ \ \}\textcolor{comment}{//\ for(\ jj\ )}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00417}00417\ }
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00418}00418\ \ \ \ \ \textcolor{keywordflow}{if}(ctype\_x\ ==\ 1)\ \{\ \textcolor{comment}{//\ triangularMatrix:\ copy\ the\ 'diag'\ and\ 'uplo'\ slots}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00419}00419\ \ \ \ \ \mbox{\hyperlink{Mdefines_8h_aee09bb5723bf209739e63e2f00c41ff7}{SET\_SLOT}}(ans,\ \mbox{\hyperlink{init_8c_ac4fa9962123be6abbeaf9c7219b62644}{Matrix\_uploSym}},\ Rf\_duplicate(\mbox{\hyperlink{Mdefines_8h_aae955dc7257fba2c0b151319eba848ef}{GET\_SLOT}}(x,\ \mbox{\hyperlink{init_8c_ac4fa9962123be6abbeaf9c7219b62644}{Matrix\_uploSym}})));}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00420}00420\ \ \ \ \ \mbox{\hyperlink{Mdefines_8h_aee09bb5723bf209739e63e2f00c41ff7}{SET\_SLOT}}(ans,\ \mbox{\hyperlink{init_8c_aaaa2d2105381747118da72d6f1aba4e9}{Matrix\_diagSym}},\ Rf\_duplicate(\mbox{\hyperlink{Mdefines_8h_aae955dc7257fba2c0b151319eba848ef}{GET\_SLOT}}(x,\ \mbox{\hyperlink{init_8c_aaaa2d2105381747118da72d6f1aba4e9}{Matrix\_diagSym}})));}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00421}00421\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00422}00422\ \ \ \ \ \textcolor{comment}{//\ now\ assign\ the\ i-\/\ and\ x-\/\ slots,\ \ free\ memory\ and\ return\ :}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00423}00423\ \ \ \ \ PROTECT(islot\ =\ Rf\_allocVector(INTSXP,\ nnz));}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00424}00424\ \ \ \ \ Memcpy(INTEGER(islot),\ ri,\ nnz);}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00425}00425\ \ \ \ \ \mbox{\hyperlink{Mdefines_8h_aee09bb5723bf209739e63e2f00c41ff7}{SET\_SLOT}}(ans,\ \mbox{\hyperlink{init_8c_a900b6b19a8e80b529c1a26eb9fb6156d}{Matrix\_iSym}},\ islot);}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00426}00426\ \ \ \ \ UNPROTECT(1);}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00427}00427\ \textcolor{preprocessor}{\#ifdef\ \_has\_x\_slot\_}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00428}00428\ \ \ \ \ PROTECT(islot\ =\ Rf\_allocVector(SXP\_x,\ nnz));}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00429}00429\ \ \ \ \ Memcpy(STYP\_x(islot),\ rx,\ nnz);}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00430}00430\ \ \ \ \ \mbox{\hyperlink{Mdefines_8h_aee09bb5723bf209739e63e2f00c41ff7}{SET\_SLOT}}(ans,\ \mbox{\hyperlink{init_8c_a8e6ccf1b89de0c7d61722fd1579eb085}{Matrix\_xSym}},\ islot);}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00431}00431\ \ \ \ \ UNPROTECT(1);}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00432}00432\ \ \ \ \ R\_Free(rx);}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00433}00433\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00434}00434\ \ \ \ \ R\_Free(ri);}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00435}00435\ \ \ \ \ UNPROTECT(n\_prot);}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00436}00436\ \ \ \ \ \textcolor{keywordflow}{return}\ ans;}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00437}00437\ \}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00438}00438\ }
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00439}00439\ \textcolor{preprocessor}{\#undef\ Csparse\_subassign}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00440}00440\ \textcolor{preprocessor}{\#undef\ x\_CLASSES}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00441}00441\ \textcolor{preprocessor}{\#undef\ sparseVECTOR}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00442}00442\ }
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00443}00443\ \textcolor{preprocessor}{\#undef\ Type\_x}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00444}00444\ \textcolor{preprocessor}{\#undef\ STYP\_x}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00445}00445\ \textcolor{preprocessor}{\#undef\ SXP\_x}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00446}00446\ \textcolor{preprocessor}{\#undef\ Type\_x\_0\_init}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00447}00447\ \textcolor{preprocessor}{\#undef\ Type\_x\_1\_init}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00448}00448\ \textcolor{preprocessor}{\#undef\ \_has\_x\_slot\_}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00449}00449\ \textcolor{preprocessor}{\#undef\ slot\_kind\_x}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00450}00450\ }
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00451}00451\ \textcolor{preprocessor}{\#ifdef\ \_CPLX\_x}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00452}00452\ \textcolor{preprocessor}{\#\ undef\ \_CPLX\_x}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00453}00453\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00454}00454\ }
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00455}00455\ }
\DoxyCodeLine{\Hypertarget{t__subassign_8c_source_l00456}00456\ }

\end{DoxyCode}
